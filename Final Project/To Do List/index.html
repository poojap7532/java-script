<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To Do List</title>
</head>
<style>
    .container {
        width: 100%;
        background-color: #191027;
        height: 100vh;
        text-align: center;
    }

    h1 {
        color: #ffff;
    }

    input {
        font-size: 20px;
        margin: 15px;
        width: 60%;
        padding: 10px;
        background-color: #120722;
        color: whitesmoke;
        border: 1px solid #200648;
        box-shadow: 12px 12px 2px 1px rgba(0, 0, 255, .2);
    }

    button {
        font-size: large;
        margin-left: 10px;
        padding: 7px;
        border: 1px solid #1a102a;
        border-radius: 10px;
        color: whitesmoke;
        background-color: #120722;
    }
</style>

<body>
    <div class="container">
        <h1>TO DO LIST</h1>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
        <input type="text" id="taskInput" placeholder="Add a task">
        <button onclick="addTask()">Add Task</button>
        <!-- <input type="text" id="txt2" placeholder="Add a text">
        <input type="text" id="txt3" placeholder="Add a text">
        <input type="text" id="txt4" placeholder="Add a text">
        <input type="text" id="txt5" placeholder="Add a text"> -->
        <ul id="taskList"></ul>

        <!-- <p id="error" style="color: red;"></p> -->


       
    </div>
</body>
<script>
   function addTask(){
     const taskInput = document.getElementById("taskInput");
        const taskText = taskInput.value.trim();

        if (taskText !== "") {
            // Retrieve existing tasks from local storage
            const existingTasks = JSON.parse(localStorage.getItem("tasks")) || [];

            // Add the new task
            existingTasks.push(taskText);

            // Update local storage with the new tasks
            localStorage.setItem("tasks", JSON.stringify(existingTasks));

            // Clear the input field
            taskInput.value = "";

            // Refresh the task list
            displayTasks();
        }
   }
    // Function to display tasks from local storage on the page
    function displayTasks() {
        const taskList = document.getElementById("taskList");
        const existingTasks = JSON.parse(localStorage.getItem("tasks")) || [];

        // Clear the existing task list
        taskList.innerHTML = "";

        // Loop through the tasks and display them
        // existingTasks.forEach();
        existingTasks.map((task, id) => {
            const li = document.createElement("li");
            li.textContent = task;

            // Add a delete button for each task
            const deleteButton = document.createElement("button");
            deleteButton.textContent = "Delete Record";
            deleteButton.onclick = () => deleteTask(id);

            li.appendChild(deleteButton);
            taskList.appendChild(li);
        })
    }

    // Function to delete a task from local storage and update the display
    function deleteTask(id) {
        const existingTasks = JSON.parse(localStorage.getItem("tasks")) || [];
        if (id >= 0 && id < existingTasks.length) {
            // Remove the task at the specified index
            existingTasks.splice(id, 1);

            // Update local storage with the modified tasks
            localStorage.setItem("tasks", JSON.stringify(existingTasks));

            // Refresh the task list
            displayTasks();
        }
    }

    // Initialize the task list when the page loads
    displayTasks();
</script>

</html>